(function(){"use strict";var e={1933:function(e,t,n){var o=n(5130),a=n(6768);function r(e,t){const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(n)}var s=n(1241);const i={},u=(0,s.A)(i,[["render",r]]);var c=u,l=n(1387),d=n(4232);const m={class:"login-container"},p={key:0,class:"message"};function g(e,t,n,r,s,i){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",m,[t[6]||(t[6]=(0,a.Lk)("h1",null,"Login",-1)),(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)((...e)=>i.login&&i.login(...e),["prevent"])),class:"login-form"},[(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),required:""},null,512),[[o.Jo,s.username]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),required:""},null,512),[[o.Jo,s.password]]),t[3]||(t[3]=(0,a.Lk)("button",{type:"submit"},"Login",-1))],32),s.message?((0,a.uX)(),(0,a.CE)("p",p,(0,d.v_)(s.message),1)):(0,a.Q3)("",!0),(0,a.Lk)("p",null,[t[5]||(t[5]=(0,a.eW)(" Don't have an account? ",-1)),(0,a.bF)(u,{to:"/signup"},{default:(0,a.k6)(()=>t[4]||(t[4]=[(0,a.eW)("Sign up here",-1)])),_:1,__:[4]})])])}n(4114);var h={name:"LoginPage",data(){return{username:"",password:"",message:""}},methods:{async login(){try{const e=await fetch("http://127.0.0.1:5000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),t=await e.json();this.message=t.message,"Login successful"===t.message&&(localStorage.setItem("userId",t.user_id),localStorage.setItem("username",t.username),this.$router.push("/dashboard"))}catch(e){console.error("Error logging in:",e),this.message="An error occurred while logging in."}}}};const f=(0,s.A)(h,[["render",g],["__scopeId","data-v-30e4a3d8"]]);var v=f;const b={class:"signup-container"},w={key:0,class:"message"};function k(e,t,n,r,s,i){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",b,[t[7]||(t[7]=(0,a.Lk)("h1",null,"Sign Up",-1)),(0,a.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)((...e)=>i.signup&&i.signup(...e),["prevent"])),class:"signup-form"},[(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Full Name","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),required:""},null,512),[[o.Jo,s.name]]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Username","onUpdate:modelValue":t[1]||(t[1]=e=>s.username=e),required:""},null,512),[[o.Jo,s.username]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>s.password=e),required:""},null,512),[[o.Jo,s.password]]),t[4]||(t[4]=(0,a.Lk)("button",{type:"submit"},"Sign Up",-1))],32),(0,a.Lk)("p",null,[t[6]||(t[6]=(0,a.eW)(" Already have an account? ",-1)),(0,a.bF)(u,{to:"/login"},{default:(0,a.k6)(()=>t[5]||(t[5]=[(0,a.eW)("Login here",-1)])),_:1,__:[5]})]),s.message?((0,a.uX)(),(0,a.CE)("p",w,(0,d.v_)(s.message),1)):(0,a.Q3)("",!0)])}var y={name:"SignUpPage",data(){return{name:"",username:"",password:"",message:""}},methods:{async signup(){try{const e=await fetch("http://127.0.0.1:5000/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,username:this.username,password:this.password})}),t=await e.json();this.message=t.message,"User created successfully"===t.message&&this.$router.push("/login")}catch(e){console.error("Error signing up:",e)}}}};const _=(0,s.A)(y,[["render",k],["__scopeId","data-v-f356baec"]]);var L=_;const S={class:"container"},I={class:"card-row"},P={class:"card click-track"},C={class:"card click-track video-card"},E={class:"card click-track"};function T(e,t,n,o,r,s){const i=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",S,[t[5]||(t[5]=(0,a.Lk)("h1",null,"Welcome to Dashboard",-1)),(0,a.Lk)("div",I,[(0,a.Lk)("div",P,[(0,a.bF)(i,{to:"/pdf",class:"card-link"},{default:(0,a.k6)(()=>t[2]||(t[2]=[(0,a.eW)(" 📄 ",-1),(0,a.Lk)("span",null,"Read Article (PDF)",-1)])),_:1,__:[2]})]),(0,a.Lk)("div",C,[(0,a.Lk)("div",{class:"video-overlay click-track","data-description":"Watch Video",onClick:t[0]||(t[0]=(...e)=>s.removeOverlay&&s.removeOverlay(...e))}," ▶ Watch Video "),t[3]||(t[3]=(0,a.Lk)("iframe",{width:"100%",height:"200",src:"https://www.youtube.com/embed/YOYQys52sPs?enablejsapi=1",frameborder:"0",allowfullscreen:""},null,-1))]),(0,a.Lk)("div",E,[(0,a.bF)(i,{to:"/quiz",class:"card-link"},{default:(0,a.k6)(()=>t[4]||(t[4]=[(0,a.eW)(" 📝 ",-1),(0,a.Lk)("span",null,"Take Quiz",-1)])),_:1,__:[4]})])]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.logout&&s.logout(...e))},"Logout")])}var O={name:"UserDashboard",methods:{removeOverlay(e){e.target.style.display="none"},logout(){localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("sessionId"),sessionStorage.clear(),window.location.href="/login"}}};const q=(0,s.A)(O,[["render",T],["__scopeId","data-v-7849942c"]]);var A=q;const U={class:"pdf-container"},D=["src"];function V(e,t,n,o,r,s){return(0,a.uX)(),(0,a.CE)("div",U,[t[1]||(t[1]=(0,a.Lk)("h1",null,"Read Article",-1)),(0,a.Lk)("iframe",{src:r.pdfPath,width:"100%",height:"600px",style:{border:"none"}},null,8,D),t[2]||(t[2]=(0,a.Lk)("br",null,null,-1)),(0,a.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/dashboard"))},"Back to Dashboard")])}var x={name:"PDFview",data(){return{pdfPath:"/Area_of_Triangle.pdf"}}};const j=(0,s.A)(x,[["render",V],["__scopeId","data-v-e26178d4"]]);var W=j;const $={class:"container"},X=["name","value","onUpdate:modelValue"],Y={key:0,class:"result"};function z(e,t,n,r,s,i){return(0,a.uX)(),(0,a.CE)("div",$,[t[3]||(t[3]=(0,a.Lk)("h1",null,"Triangle Quiz",-1)),(0,a.Lk)("form",{onSubmit:t[0]||(t[0]=(0,o.D$)((...e)=>i.submitQuiz&&i.submitQuiz(...e),["prevent"]))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.questions,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"question"},[(0,a.Lk)("p",null,(0,d.v_)(t+1)+". "+(0,d.v_)(e.question),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.options,(e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n},[(0,a.Lk)("label",null,[(0,a.bo)((0,a.Lk)("input",{type:"radio",name:"q"+t,value:e,"onUpdate:modelValue":e=>s.answers[t]=e,required:""},null,8,X),[[o.XL,s.answers[t]]]),(0,a.eW)(" "+(0,d.v_)(e),1)])]))),128))]))),128)),t[2]||(t[2]=(0,a.Lk)("button",{type:"submit"},"Submit",-1))],32),null!==s.score?((0,a.uX)(),(0,a.CE)("div",Y,[(0,a.Lk)("h2",null,"Your Score: "+(0,d.v_)(s.score)+" / 5",1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$router.push("/dashboard"))},"Back to Dashboard")])):(0,a.Q3)("",!0)])}n(8111),n(7588);var F={name:"QuizPage",data(){return{questions:[{question:"What is the formula for the area of a triangle?",options:["(base × height) / 2","base × height","2 × (base + height)","(side × side) / 2"],answer:"(base × height) / 2"},{question:"A triangle has a base of 8 cm and height of 5 cm. What is its area?",options:["20 cm²","40 cm²","13 cm²","25 cm²"],answer:"20 cm²"},{question:"What is the perimeter of a triangle with sides 5 cm, 6 cm, and 7 cm?",options:["18 cm","16 cm","17 cm","19 cm"],answer:"18 cm"},{question:"If the base is doubled and height is same, the area will...",options:["Double","Stay the same","Be halved","Increase by four times"],answer:"Double"},{question:"A triangle has sides 3 cm, 4 cm, and 5 cm. What is its perimeter?",options:["9 cm","10 cm","12 cm","11 cm"],answer:"12 cm"}],answers:{},score:null}},methods:{submitQuiz(){let e=0;this.questions.forEach((t,n)=>{this.answers[n]===t.answer&&(e+=1)}),this.score=e;const t=localStorage.getItem("sessionId"),n=localStorage.getItem("userId");fetch("http://localhost:5000/api/quiz/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n,session_id:t,score:e})}).then(e=>e.json()).then(e=>{console.log("Quiz result saved:",e)}).catch(e=>console.error("Error saving quiz result:",e))}}};const N=(0,s.A)(F,[["render",z],["__scopeId","data-v-50899466"]]);var Q=N;const J=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:v},{path:"/signup",name:"Signup",component:L},{path:"/dashboard",name:"Dashboard",component:A},{path:"/pdf",name:"PdfView",component:W},{path:"/quiz",name:"QuizPage",component:Q}],R=(0,l.aE)({history:(0,l.LA)(),routes:J});var B=R,M=n(4373);function G(e){M.A.post("http://127.0.0.1:5000/api/log",e).catch(e=>{console.error("Logging failed:",e)})}function K(){return crypto.randomUUID().slice(0,9)}let H=null,Z=0;function ee(e){const t=JSON.stringify({event_name:e.event_name,event_context:e.event_context,component:e.component}),n=Date.now(),o=t===H&&n-Z<2e3;return!o&&(H=t,Z=n,!0)}function te(){(!localStorage.getItem("sessionId")||localStorage.getItem("sessionId").length>12)&&localStorage.setItem("sessionId",K());const e=localStorage.getItem("sessionId");function t(){document.querySelectorAll("iframe").forEach(e=>{const t=e.src||"";t.includes("youtube.com/embed/")&&window.YT&&window.YT.Player&&new window.YT.Player(e,{events:{onStateChange:t=>{const n=localStorage.getItem("userId")||null;let o="";if(t.data===window.YT.PlayerState.PLAYING?o="Video Played":t.data===window.YT.PlayerState.PAUSED?o="Video Paused":t.data===window.YT.PlayerState.BUFFERING?o="Video Buffering":t.data===window.YT.PlayerState.ENDED&&(o="Video Ended"),o){const t={session_id:localStorage.getItem("sessionId"),user_id:n,event_context:o,component:B.currentRoute.value.fullPath,event_name:"Video Event",description:`${o} on ${e.src}`,origin:"web"};ee(t)&&G(t)}}}})})}if(document.addEventListener("click",t=>{const n=t.target;if(!n)return;const o=B.currentRoute.value.fullPath,a=localStorage.getItem("userId")||null;if(["input","label","form"].includes(n.tagName.toLowerCase())&&!n.innerText.trim())return;if("iframe"===n.tagName.toLowerCase()){const t=n.getAttribute("src")||"";if(t.includes("youtube.com/embed/")){const n=t.split("/embed/")[1]?.split("?")[0],r={session_id:e,user_id:a,event_context:"Video Click",component:o,event_name:"Video Click",description:`User clicked YouTube video ID: ${n}`,origin:"web"};return void(ee(r)&&G(r))}}let r=n.tagName.toLowerCase(),s=n.getAttribute("data-description")||n.innerText;s&&(r+=`: "${s.trim().slice(0,50)}"`);const i={session_id:e,user_id:a,event_context:`Clicked ${r}`,component:o,event_name:"Click",description:`User clicked ${r}`,origin:"web"};ee(i)&&G(i)}),B.afterEach(t=>{const n=localStorage.getItem("userId")||null,o={session_id:e,user_id:n,event_context:`Navigated to ${t.path}`,component:t.name||t.path,event_name:"Page View",description:`User navigated to ${t.path}`,origin:"web"};ee(o)&&G(o)}),window.YT)t();else{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),window.onYouTubeIframeAPIReady=t}}te(),(0,o.Ef)(c).use(B).mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],a=e[l][1],r=e[l][2];for(var i=!0,u=0;u<o.length;u++)(!1&r||s>=r)&&Object.keys(n.O).every(function(e){return n.O[e](o[u])})?o.splice(u--,1):(i=!1,r<s&&(s=r));if(i){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,s=o[0],i=o[1],u=o[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(u)var l=u(n)}for(t&&t(o);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},o=self["webpackChunkmy_frontend"]=self["webpackChunkmy_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],function(){return n(1933)});o=n.O(o)})();
//# sourceMappingURL=app.8dda04e2.js.map